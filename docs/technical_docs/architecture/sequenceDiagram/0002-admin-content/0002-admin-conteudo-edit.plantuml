@startuml

actor "Usuário (Admin)" as Admin
participant "Web App (Frontend)" as Web
participant "Auth API (Backend)" as Auth
database "User DB" as DB
participant "Session Store" as Session

Admin -> Web: Abre página de ediçao de conteúdo
activate Web
Web -> Session: Verifica seção (token)
activate Session
Session --> Web: sessão válida + role=[admin, moderador, operador]
deactivate Session

alt autenticado
    Web -> Auth: GET /api/conteudo/{id} {token}
    activate Auth
    Auth -> DB: SELECT conteudo
    DB --> Auth: dados do conteúdo
    Auth --> Web: 200 OK {conteúdo}
    deactivate Auth

    Admin -> Web: edita conteúdo e cica em salvar
    Web -> Auth: POST /conteudo/{id} {token}
    activate Auth
    Auth -> DB: UPDATE conteudo
    DB --> Auth: OK
    Auth --> Web: 200 OK (salvo)
    Web --> Admin: Confirmação de conteúdo salvo
else não autorizado
    Web --> Admin: Redireciona para /login (ou mostra modal de login)
end

deactivate Web
@enduml