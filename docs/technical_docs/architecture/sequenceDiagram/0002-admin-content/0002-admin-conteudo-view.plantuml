@startuml

actor "Usuário (Admin)" as Admin
participant "Web App (Frontend)" as Web
participant "Auth API (Backend)" as Auth
database "User DB" as DB
participant "Session Store" as Session

Admin -> Web: Abre lista de conteúdos
activate Web
Web -> Session: Verifica sessão (token)
activate Session
Session --> Web: Sessão válida + role=[admin, moderador, operador]
deactivate Session

alt autorizado
    Web -> Auth: GET /api/conteudo?page=1&size=20 {token}
    activate Auth
    note right of Auth: Backend aplica paginação
    Auth -> DB: SELECT ... LIMIT 20 OFFSET 0
    activate DB
    DB --> Auth: rows + total_count
    deactivate DB
    Auth --> Web: 200 OK (items, meta: {page:1, size:20, total:123, next_page:2} / next_cursor)
    Web --> Admin: Lista de conteúdos + controles de paginação
else não autorizado
    Auth --> Web: 401/403 Unauthorized
    Web --> Admin: Redireciona para /login ou mostra erro de permissão
end

deactivate Web
@enduml